export
function w $main() {
@start
    %a =w copy 10
    %b =w copy 5
    %c =w copy 100
    
    %result_add =w add %a, %b
    %result_mul =w mul %a, %b
    %result_sub =w sub %c, %a
    
    %result_add_print =w call $printf_int(w %result_add)
    %newline1 =l copy $newline
    %newline1_print =w call $printf_str(l %newline1)
    
    %result_mul_print =w call $printf_int(w %result_mul)
    %newline2 =l copy $newline
    %newline2_print =w call $printf_str(l %newline2)
    
    %result_sub_print =w call $printf_int(w %result_sub)
    %newline3 =l copy $newline
    %newline3_print =w call $printf_str(l %newline3)
    
    ret 0
}

function w $printf_int(w %value) {
@start
    %result =w call $printf(l $int_format, w %value)
    ret %result
}

function w $printf_str(l %str) {
@start
    %result =w call $printf(l %str)
    ret %result
}

data $int_format = { b 37, b 100, b 0 }
data $newline = { b 10, b 0 }